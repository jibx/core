<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>JiBX: Nesting and Contexts</title>
      <style type="text/css">
        @import url("../style/tigris.css");
        @import url("../style/maven.css");
    .dtd-comment {
      color: #993399;
      font-weight: bold;
      </style>
      <script type="text/javascript">
        if (document.layers) {
          document.writeln('<link rel="stylesheet" type="text/css" href="../style/ns4_only.css" media="screen" /><link rel="stylesheet" type="text/css" href="../style/maven_ns4_only.css" media="screen" />')
        }
      </script>
      <link rel="stylesheet" type="text/css" href="../style/print.css" media="print" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>
<body class="composite">
<div id="banner">
<table border="0" cellspacing="0" cellpadding="8" width="100%">
  <tbody>
    <tr>
      <td><h1>JiBX: Nesting and Contexts</h1>
      </td>
      <td>
      <div align="right" id="login"><a href="http://sourceforge.net">
      <img src="http://sourceforge.net/sflogo.php?group_id=69358&amp;type=5"
        width="210" height="62" border="0" alt="SourceForge.net Logo"></a></div>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div id="breadcrumbs">
<table border="0" cellspacing="0" cellpadding="4" width="100%">
  <tbody>
    <tr>
      <td>
        <div align="right">
          <a href="../index.html">Home Page</a> |
          <a href="http://www.sourceforge.net/projects/jibx/">SourceForge Page</a> |
          <a href="../mail-lists.html">Mailing Lists</a> |
          <a href="http://wiki.jibx.org">Wiki</a> |
          <a href="../bugs.html">Bugs</a> |
          <a href="http://sourceforge.net/project/showfiles.php?group_id=69358">Downloads</a>
        </div>
      </td>
    </tr>
  </tbody>
</table>
</div>
<table border="0" cellspacing="0" cellpadding="8" width="100%" id="main">
  <tbody>
	<tr valign="top">
	  <td id="leftcol" width="20%">
		<div id="navcolumn">


                  <div>
            <strong>JiBX Basics</strong>
                              <div>
            <small>
                    <a href="../index.html">Overview</a>
                  </small>
                              <div>
            <small>
                    <a href="../flexibility.html">Flexibility</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../performance.html">Performance</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../clean-code.html">Clean code</a>
                  </small>
                </div>
                      </div>
                                    <div>
            <small>
                    <a href="../status.html">News and Status</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../comments.html">User Comments</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../sponsors.html">Sponsors</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../support.html">Support and Training</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../bugs.html">Bugs</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../start.html">Getting Started</a>
                  </small>
                              <div>
            <small>
                    <a href="../tutorial/binding-tutorial.html">Binding Tutorial</a>
                  </small>
                              <div>
            <small>
                    <a href="../tutorial/binding-start.html">A basic binding</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../tutorial/binding-extras.html">Binding extras</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../tutorial/binding-structures.html">Structure mapping</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../tutorial/binding-collects.html">Collections and arrays</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../tutorial/binding-mappings.html">Using mappings</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../tutorial/binding-advanced.html">Advanced binding</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../tutorial/binding-extend.html">Method hooks</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../tutorial/binding-custom.html">Custom code</a>
                  </small>
                </div>
                      </div>
                                    <div>
            <small>
                    <a href="../bindcomp.html">Binding Compiler</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../bindonload.html">Binding on Load</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../runtime.html">Runtime</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../extras.html">JiBX Extras</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../building.html">Building JiBX</a>
                  </small>
                </div>
                      </div>
                                    <div>
            <small>
                    <a href="../schema.html">Schema Compatibility</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../mail-lists.html">Mailing Lists</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../faq.html">FAQ</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../contributing.html">Contributing</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../jibx-license.html">License</a>
                  </small>
                </div>
                      </div>
                        <div>
            <strong>Binding Definition</strong>
                              <div>
            <small>
                    <a href="binding-overview.html">Definition details</a>
                  </small>
                              <div>
            <small>
                    <span class="menu-selection">Definition contexts</span>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="conversions.html">Conversions</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="xml-summary.html">XML summary</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="binding-element.html">&lt;binding&gt; element</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="include-element.html">&lt;include&gt; element</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="format-element.html">&lt;format&gt; element</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="namespace-element.html">&lt;namespace&gt; element</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="mapping-element.html">&lt;mapping&gt; element</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="value-element.html">&lt;value&gt; element</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="structure-element.html">&lt;structure&gt; element</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="collection-element.html">&lt;collection&gt; element</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="binding-attributes.html">Attribute groups</a>
                  </small>
                </div>
                      </div>
                      </div>
                        <div>
            <strong>Usage API</strong>
                              <div>
            <small>
                    <a href=".././api/index.html">Runtime JavaDocs</a>
                  </small>
                </div>
                      </div>
                        <div>
            <strong>Subprojects</strong>
                              <div>
            <small>
                    <a href="../eclipse/index.html">Eclipse Plug-in</a>
                  </small>
                              <div>
            <small>
                    <a href="../eclipse/index.html">Introduction</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../eclipse/install.html">Install</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../eclipse/usage.html">Usage</a>
                  </small>
                </div>
                      </div>
                                    <div>
            <small>
                    <a href="../jibxtools/index.html">Generator Tools</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../axis2/index.html">Axis2 Usage</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../jibxsoap/index.html">JibxSoap</a>
                  </small>
                </div>
                                    <div>
            <small>
                    <a href="../xsd2jibx/index.html">Xsd2Jibx</a>
                  </small>
                </div>
                      </div>
      

        </div>
      </td>
      <td>


  
      <div id="bodycol">
      <div class="app">
      <div class="h3">
      <h3><a name="nesting">Nesting and Context</a></h3>

<p>The binding definition itself uses a nested structure that's partially
recursive - some of the element types in the binding definition can contain other
instances of the same element as children. This nesting is an important part
of how the binding definition describes the rules for converting your objects.
It's used both for showing the relationships between your Java and XML structures
(see the <a href="../tutorial/binding-structures.html">Structure mapping</a> discussion), and for establishing the
scope of definitions.</p>

<p>Each level of nesting establishes a definition context for shared information
(such as conversion formats, namespaces, and type mappings). Definitions from
an enclosing context apply automatically in all nested contexts unless they are
overridden within that context. To understand how this operates, think of the
nested elements as similar to curly brace blocks in Java - definitions from a
block are only visible within that block (including any inner blocks it
encloses). This isn't an exact comparison - for one thing, inner blocks can
override definitions from an enclosing block - but it's close.</p>

<p>Here's a partial example from a binding definition to illustrate how context
works:</p>

<pre><code>&lt;binding&gt;
  &lt;mapping name=&quot;base-table&quot; 
      class=&quot;org.jibx.demo.TimeTableBean&quot;&gt;
    &lt;format name=&quot;flightTime&quot; type=&quot;int&quot;
      serializer=&quot;org.jibx.demo.Utils.minuteToTime&quot;
      deserializer=&quot;org.jibx.demo.Utils.timeToMinute&quot;&gt;
    &lt;mapping class=&quot;org.jibx.demo.FlightBean&quot; ... &gt;
      ...
      &lt;value name=&quot;depart&quot; field=&quot;m_departure&quot;
        format=&quot;flightTime&quot;/&gt;
      &lt;value name=&quot;arrive&quot; field=&quot;m_arrival&quot;
        format=&quot;flightTime&quot;/&gt;
    &lt;/mapping&gt;
    &lt;mapping name=&quot;roundtrip&quot; ... &gt;
      &lt;structure name=&quot;outbound&quot; field=&quot;m_outbound&quot;
        item-type=&quot;org.jibx.demo.FlightBean&quot;/&gt;
      &lt;structure name=&quot;inbound&quot; field=&quot;m_inbound&quot;
        item-type=&quot;org.jibx.demo.FlightBean&quot;/&gt;
    &lt;/mapping&gt;
    ...
  &lt;/mapping&gt;
  &lt;mapping name=&quot;split-table&quot; 
      class=&quot;org.jibx.demo.SplitTableBean&quot;&gt;
  ...
</code></pre>

<p>The first <b>mapping</b> element (with <b>name=&quot;base-table&quot;</b>)
establishes a context. The contained <b>format</b> and <b>mapping</b> elements
are definitions that apply within the scope of that context. In this case the
<b>format</b> definition (with <b>name=&quot;flightTime&quot;</b>) is used within
the first <b>mapping</b> definition, and the second <b>mapping</b> definition
in turn uses the first one (by specifying an <b>item-type</b> that matches the
<b>class</b> name).</p>

<p>These child definitions from the first <b>mapping</b> element are not
available for use within the last <b>mapping</b> element. This element is at the
same nesting level as the first one. If you wanted to make the child definitions
from the first <b>mapping</b> available for use in the last one, you could do so
by moving these definitions up to a higher level, making them children of the
<b>binding</b> element.</p>

<p></p>
      </div>
      </div>
      </div>


      </td>
    </tr>
  </tbody>
</table>
<div id="footer">
<table border="0" cellspacing="0" cellpadding="4">
  <tbody>
    <tr>
      <td> &copy; 2003-2008, Dennis M. Sosnoski (<a href="http://www.sosnoski.com">Sosnoski Software Solutions, Inc.</a>).
      Licensed to the JiBX Project for free distribution and use. </td>
    </tr>
  </tbody>
</table>
</div>
<br>
</body>
</html>
